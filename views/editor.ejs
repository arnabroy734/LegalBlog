<%- include('header'); %>

    <body>


        <div class="container ps-0 sticky-top bg-white">
            <a href="/"><img src="/static/images/nav-logo.png" alt="" width="64" height="64" class="mt-3"></a>
            <h2 class="mt-2 d-inline align-middle ms-3">Welcome Editor
            </h2>
        </div>


        <div class="container" id="editor">


            <form action="/preview" method="post" id="<%=blogId%>">
                <!-- Title of the blog/question -->
                <div class="mb-4">
                    <label for="blogTitle" class="form-label">Question</label>
                    <input type="text" class="form-control" id="blogTitle" name="blogTitle" value="<%=blogTitle%>">
                </div>


                <div class="row">
                    <!-- Subject/Topic Selection -->
                    <div class="col-lg-6 col-md-12">
                        <div class="mb-4">
                            <label for="topic" class="form-label">Topic</label>
                            <select class="form-select" aria-label="Default select example" id="topic">
                                <% subjects.forEach(function(subject){ %>

                                    <!-- This will be populated in existing document edit mode -->
                                    <% if (subject.subject == subjectSelected){ %> 
                                    <option selected value="<%=subject.subject%>">
                                        <%=subject.subject%>
                                    </option>
                                    
                                    <% } else { %>
                                    <option value="<%=subject.subject%>">
                                        <%=subject.subject%>
                                    </option>
                                    <% } %>
                                    <% }); %>
                                    <option value="others">Others</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <input type="text" class="form-control" id="otherTopic" placeholder="Add other topics"
                                disabled>
                        </div>
                    </div>

                    <!-- Exam Selection -->
                    <div class="col-lg-6 col-md-12">
                        <div class="mb-4">
                            <label for="topic" class="form-label">Previous Exam</label>
                            <select class="form-select" aria-label="Default select example" id="exams">
                                <option value="noexam">No Exam</option>
                                <% prevExams.forEach(function(exam){ %>
                                    <% if (exam.exam != "noexam"){ %>

                                        <!-- This will be populated in existing document edit mode -->
                                        <% if (exam.exam == selectedExam){ %>
                                            <option selected value="<%=exam.exam%>">
                                                <%=exam.exam%>
                                            </option>

                                        <% } else { %>
                                            <option value="<%=exam.exam%>">
                                                <%=exam.exam%>
                                            </option>
                                        <% } %>
                                    <% } %>
                                <% }); %>
                                        <option value="others">Others</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <input type="text" class="form-control" id="otherExam" placeholder="Add other topics"
                                disabled>
                        </div>
                    </div>
                </div>



                <div class="mb-4">
                    <label for="blogBody" class="form-label">Answer</label>
                    <textarea class="form-control" id="blogBody" rows="20" name="blogBody"><%- blogBody %></textarea>
                </div>

                <!-- <button type="button" class="btn btn-primary" id="preview">Preview</button> -->
                <button type="button" class="btn btn-primary" id="save">Save</button>
                <button type="button" class="btn btn-primary" id="saveandproceed">Save and Proceed</button>



            </form>




        </div>




        <!-- Bootstrap 5 Integration -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

        <!-- Tiny MCE Editor Integration -->
        <script src="https://cdn.tiny.cloud/1/p8qah4n5axsec3wa707zsmnklbmla37z3t8yt5j0u1m0bd96/tinymce/6/tinymce.min.js"
            referrerpolicy="origin"></script>

        <!-- Snackbar Integration -->
        <!-- <link ref="stylesheet" type="text/css" href="/snackbar/dist/snackbar.min.css" /> -->
        <!-- <script src="/snackbar/dist/snackbar.min.js"></script> -->
        <link rel="stylesheet" href="/snackbar/snackbar.css">

        <div id="snackbar">Some text some message..</div>

        <script src="/static/editor.js"></script>

    </body>

    </html>